# Critical Build Fix - October 2025

## Issue
Next.js 15.2.4 build was failing with:
```
Error: <Html> should not be imported outside of pages/_document
Error occurred prerendering page "/404"
```

## Root Cause
`NODE_ENV=development` was hardcoded in `.env` files, causing Next.js to use  
development mode during production builds, triggering Pages Router compatibility issues.

## Fix
1. Removed `NODE_ENV=development` from all `.env` files
2. Build command must use: `env -u NODE_ENV pnpm build`
3. Updated `.env.example` with warnings

## Prevention
**NEVER** set NODE_ENV in `.env` files. Let Next.js manage it automatically.

## References
- Next.js docs: https://nextjs.org/docs/messages/non-standard-node-env
- Issue: Epic 1.5 - Critical Action #1
