# MoneyWise Backend - Staging Environment Configuration
# Copy to .env.staging and populate with staging-specific values

# Application Configuration
NODE_ENV=staging
PORT=3001
APP_NAME=MoneyWise Backend
APP_VERSION=0.4.7
API_PREFIX=api
CORS_ORIGIN=https://staging.moneywise.app  # Your staging domain

# Database Configuration (Staging TimescaleDB)
DB_HOST=staging-db.example.com
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=<CHANGE-ME-STAGING-DB-PASSWORD>
DB_NAME=moneywise_staging
DB_SCHEMA=public
DB_SYNCHRONIZE=false
DB_LOGGING=false  # Reduce noise in staging

# TimescaleDB-specific Configuration
TIMESCALEDB_ENABLED=true
TIMESCALEDB_COMPRESSION_ENABLED=true
TIMESCALEDB_RETENTION_ENABLED=true
TIMESCALEDB_CHUNK_TIME_INTERVAL=1d
TIMESCALEDB_COMPRESSION_AFTER=7d
TIMESCALEDB_RETENTION_AFTER=7y

# JWT Configuration (Use different secrets than production!)
JWT_ACCESS_SECRET=<CHANGE-ME-STAGING-JWT-ACCESS-SECRET>
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_SECRET=<CHANGE-ME-STAGING-JWT-REFRESH-SECRET>
JWT_REFRESH_EXPIRES_IN=7d

# Redis Configuration (Session Storage & Caching)
# IMPORTANT: Use managed Redis service for staging
# Example: AWS ElastiCache, Redis Cloud, or DigitalOcean Managed Redis
REDIS_HOST=<staging-redis-host>  # Replace with actual staging Redis endpoint
REDIS_PORT=6379
REDIS_PASSWORD=<CHANGE-ME-STAGING-REDIS-PASSWORD>  # Set actual Redis password
REDIS_DB=0

# Sentry Error Tracking - STAGING PROJECT
# Get DSN from: https://sentry.io/settings/{org}/projects/moneywise-staging/keys/
SENTRY_DSN=https://<key>@o<org>.ingest.sentry.io/<staging-project-id>
SENTRY_ENVIRONMENT=staging
SENTRY_RELEASE=moneywise@$(git rev-parse --short HEAD)

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_FLUSH_INTERVAL=30000
HEALTH_CHECK_ENABLED=true

# CloudWatch (Optional for staging)
CLOUDWATCH_ENABLED=false
CLOUDWATCH_NAMESPACE=MoneyWise/Staging
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
