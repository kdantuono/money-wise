# Documentation Governance Rules
# Auto-enforced by pre-commit hook

# ‚úÖ WHITELIST: Allowed in root level ONLY
root_allowed:
  - README.md
  - FRONTEND_HANDOFF.md
  - CHANGELOG.md
  - CONTRIBUTING.md
  - LICENSE.md
  - CLAUDE.md

# üìÑ FILE TYPES GOVERNANCE
# Defines rules for different file types (markdown, text, logs, etc)
file_types:

  # Markdown files (.md)
  markdown:
    patterns: ["*.md"]
    whitelist:
      - README.md
      - FRONTEND_HANDOFF.md
      - CHANGELOG.md
      - CONTRIBUTING.md
      - LICENSE.md
      - CLAUDE.md
    auto_move:
      "*ANALYSIS*.md": "docs/archive/"
      "*SUMMARY*.md": "docs/archive/"
      "*PROGRESS*.md": "docs/archive/"
      "*EXECUTIVE*.md": "docs/archive/"
      "*SESSION*.md": ".claude/sessions/"
      "*TEMPORARY*.md": "docs/archive/"
      "*WIP*.md": "docs/archive/"
      "*MILESTONE*.md": "docs/archive/"
      "*SWAGGER*.md": "docs/archive/"
      "*STATUS*.md": "docs/archive/"
      "*RECOVERY*.md": ".claude/sessions/"
      "*IMPLEMENTATION*.md": "docs/archive/"
    default_destination: "docs/archive/"

  # Text files (.txt)
  text:
    patterns: ["*.txt"]
    whitelist: []  # No text files allowed in root
    auto_move:
      "*SUMMARY*.txt": "docs/archive/"
      "*ANALYSIS*.txt": "docs/archive/"
      "*EXECUTIVE*.txt": "docs/archive/"
      "*BATCH*.txt": "docs/archive/"
      "*PROGRESS*.txt": "docs/archive/"
      "*TEMPORARY*.txt": "docs/archive/"
      "*QUICK_REFERENCE*.txt": "docs/archive/"
      "*STATUS*.txt": "docs/archive/"
      "*SESSION*.txt": ".claude/sessions/"
    default_destination: "docs/archive/"

  # Log files (.log)
  log:
    patterns: ["*.log"]
    whitelist: []  # No log files in root
    auto_move:
      "*DEBUG*.log": "docs/archive/"
      "*ERROR*.log": "docs/archive/"
      "*WARNING*.log": "docs/archive/"
    default_destination: "docs/archive/"

# ‚ùå LEGACY BLACKLIST: Auto-move patterns (DEPRECATED - kept for compatibility)
# Note: New patterns should be added to file_types section above
auto_move:
  "*ANALYSIS*.md": "docs/archive/"
  "*SUMMARY*.md": "docs/archive/"
  "*PROGRESS*.md": "docs/archive/"
  "*EXECUTIVE*.md": "docs/archive/"
  "*SESSION*.md": ".claude/sessions/"
  "*TEMPORARY*.md": "docs/archive/"
  "*WIP*.md": "docs/archive/"
  "*MILESTONE*.md": "docs/archive/"
  "*SWAGGER*.md": "docs/archive/"
  "*STATUS*.md": "docs/archive/"
  "*RECOVERY*.md": ".claude/sessions/"
  "*IMPLEMENTATION*.md": "docs/archive/"

# üìã Documentation location guidelines
location_guidelines:
  architecture_decisions: "docs/architecture/adr-*.md"
  planning_documents: "docs/planning/"
  development_guides: "docs/development/"
  feature_specifications: "docs/planning/"
  api_documentation: "automatically generated via Swagger"
  intermediate_analysis: "docs/archive/"
  session_notes: ".claude/sessions/"
  deferred_work_tracking: "docs/"

# üèóÔ∏è Structure overview
structure:
  docs/:
    - INDEX.md (navigation hub)
    - SKIPPED_TESTS_DOCUMENTATION.md (deferred work)
    - DOCUMENTATION_STRUCTURE.md (governance guide)
    - planning/ (roadmaps and specs)
    - development/ (setup and progress)
    - architecture/ (ADRs and patterns)
    - archive/ (historical/intermediate work)

  .claude/:
    - CLAUDE.md (project instructions)
    - rules/markdown.rules (this file)
    - scripts/ (automation)
    - agents/ (specialized agents)
    - commands/ (slash commands)
    - sessions/ (session-specific notes)

# ‚öôÔ∏è Enforcement
enforcement:
  mechanism: "pre-commit hook"
  script: ".claude/scripts/auto-fix-doc-governance.sh"
  behavior: "automatic (non-blocking, auto-fixes)"
  visibility: "user sees what was moved in commit"
